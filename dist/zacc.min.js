/*!
 * Zacc v0.0.1 (http://kuus.github.io/zacc)
 * Accordion inspired by Google Closure Zippy
 * Copyright 2015 kuus <kunderikuus@gmail.com> (http://kunderikuus.net)
 * license MIT
 */
(function(b,f){function n(){function d(d){a.className+=d?" cssmask ":" no-cssmask "}var a=f.getElementsByTagName("html")[0];if(h)h.r("cssmask",h.s("maskRepeat"));else{for(var b=["webkit","moz","o","ms"],e=f.body.style,c=b.length;c--;)if(void 0!==e[b[c]+"MaskRepeat"]){d(!0);return}d(!1)}}function a(d){this.h=!1;this.c=d;this.a=null;this.height=0;this.o();this.collapse(k);k||this.p();this.n();this.m()}var l=f.getElementsByClassName("zacc"),h=b.Modernizr,c=b.jQuery,g=c?c.l||null:b.Velocity||null,m=!!c,
k=c?!!c.l:!!g;h||n();a.prototype.p=function(){b.setTimeout(function(){this.a.style.transition="margin-top 0.68s ease"}.bind(this),5)};a.prototype.o=function(){var d=this.c,a=f.createElement("div"),b=d.nextElementSibling,e=f.createElement("div");d.setAttribute("tabindex",0);d.setAttribute("role","tab");a.className="zacc-heading";b.className="zacc-content";e.className="zacc-content-wrap";d.parentNode.replaceChild(a,d);a.appendChild(d);b.parentNode.replaceChild(e,b);e.appendChild(b);this.e=a;this.a=
b;m&&(this.d=c(b));this.b=e;this.height=e.offsetHeight};a.prototype.n=function(){this.c.addEventListener("click",this.toggle.bind(this))};a.prototype.m=function(){this.c.addEventListener("keyup",function(a){13!==a.keyCode&&32!==a.keyCode||this.toggle()}.bind(this))};a.prototype.toggle=function(){this.h?this.collapse(!1):this.expand()};a.prototype.toggle=a.prototype.toggle;a.prototype.f=function(){this.e.classList.add("zacc-collapsed");this.e.classList.remove("zacc-expanded");this.c.setAttribute("aria-expanded",
!1);this.b.style.overflow="hidden"};a.prototype.i=function(){this.b.style.display="none"};a.prototype.collapse=function(a){var c=-this.height;a?(this.f(),this.a.style.marginTop=c+"px",this.b.style.display="none"):k?(a={duration:680,q:this.f.bind(this),complete:this.i.bind(this)},m?(this.d.velocity("stop",!0),this.d.velocity({marginTop:c},a)):(g(this.a,"stop",!0),g(this.a,{marginTop:c},a))):(this.f(),this.a.style.marginTop=c+"px",b.clearTimeout(this.g),this.g=b.setTimeout(this.i.bind(this),680));this.h=
!1};a.prototype.collapse=a.prototype.collapse;a.prototype.k=function(){this.e.classList.add("zacc-expanded");this.e.classList.remove("zacc-collapsed");this.c.setAttribute("aria-expanded",!0);this.b.style.display=""};a.prototype.j=function(){this.b.style.overflow=""};a.prototype.expand=function(){if(k){var a={display:"",duration:680,q:this.k.bind(this),complete:this.j.bind(this)};m?(this.d.velocity("stop",!0),this.d.velocity({marginTop:0},a)):(g(this.a,"stop",!0),g(this.a,{marginTop:0},a))}else this.k(),
b.setTimeout(function(){this.a.style.marginTop=0}.bind(this),50),b.clearTimeout(this.g),this.g=b.setTimeout(this.j.bind(this),680);this.h=!0};a.prototype.expand=a.prototype.expand;b.Zacc=b.Zacc||a.prototype;(function(){if(l)for(var b=l.length;b--;){var c=l[b];c&&new a(c)}})()})(window,document);
